
---

### 3) `country.qmd`（重新画：选一个国家，3 个变量分面随时间变化，更清楚）

```markdown
---
title: "Country Analysis"
---

This page tracks changes in life expectancy, GDP per capita, and population over time for one country.

```{python}
import pandas as pd
import matplotlib.pyplot as plt

df = pd.read_csv("gapminder.csv")
country_name = "United States"

c = df[df["country"] == country_name].sort_values("year").dropna(
    subset=["year", "life_expectancy", "gdp_per_capita", "population_millions"]
)

years = c["year"].astype(int)

plt.figure(figsize=(8, 8))

ax1 = plt.subplot(3, 1, 1)
ax1.plot(years, c["life_expectancy"], marker="o")
ax1.set_ylabel("Life Expectancy")
ax1.set_title(f"{country_name}: Trends Over Time")

ax2 = plt.subplot(3, 1, 2)
ax2.plot(years, c["gdp_per_capita"], marker="o")
ax2.set_ylabel("GDP per Capita")

ax3 = plt.subplot(3, 1, 3)
ax3.plot(years, c["population_millions"], marker="o")
ax3.set_ylabel("Population (millions)")
ax3.set_xlabel("Year")

plt.tight_layout()
plt.show()
```